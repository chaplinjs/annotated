<!DOCTYPE html>

<html>
<head>
  <title>dispatcher.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="chaplin.html">
                chaplin.coffee
              </a>
            
              
              <a class="source" href="application.html">
                application.coffee
              </a>
            
              
              <a class="source" href="composer.html">
                composer.coffee
              </a>
            
              
              <a class="source" href="controller.html">
                controller.coffee
              </a>
            
              
              <a class="source" href="dispatcher.html">
                dispatcher.coffee
              </a>
            
              
              <a class="source" href="composition.html">
                composition.coffee
              </a>
            
              
              <a class="source" href="delayer.html">
                delayer.coffee
              </a>
            
              
              <a class="source" href="event_broker.html">
                event_broker.coffee
              </a>
            
              
              <a class="source" href="helpers.html">
                helpers.coffee
              </a>
            
              
              <a class="source" href="route.html">
                route.coffee
              </a>
            
              
              <a class="source" href="router.html">
                router.coffee
              </a>
            
              
              <a class="source" href="support.html">
                support.coffee
              </a>
            
              
              <a class="source" href="sync_machine.html">
                sync_machine.coffee
              </a>
            
              
              <a class="source" href="utils.html">
                utils.coffee
              </a>
            
              
              <a class="source" href="mediator.html">
                mediator.coffee
              </a>
            
              
              <a class="source" href="collection.html">
                collection.coffee
              </a>
            
              
              <a class="source" href="model.html">
                model.coffee
              </a>
            
              
              <a class="source" href="collection_view.html">
                collection_view.coffee
              </a>
            
              
              <a class="source" href="layout.html">
                layout.coffee
              </a>
            
              
              <a class="source" href="view.html">
                view.coffee
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>dispatcher.coffee</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="string">'use strict'</span>

_ = require <span class="string">'underscore'</span>
Backbone = require <span class="string">'backbone'</span>
utils = require <span class="string">'chaplin/lib/utils'</span>
EventBroker = require <span class="string">'chaplin/lib/event_broker'</span>

module.exports = <span class="class"><span class="keyword">class</span> <span class="title">Dispatcher</span></span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Borrow the static extend method from Backbone.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="property">@extend</span> = Backbone.Model.extend</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Mixin an EventBroker.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  _(<span class="property">@prototype</span>).extend EventBroker</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>The previous controller name.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  previousControllerName: <span class="literal">null</span></pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>The current controller, its name, main view and parameters.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  currentControllerName: <span class="literal">null</span>
  currentController: <span class="literal">null</span>
  currentAction: <span class="literal">null</span>
  currentParams: <span class="literal">null</span></pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>The current URL.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  url: <span class="literal">null</span>

  constructor: -&gt;
    <span class="property">@initialize</span> arguments...

  initialize: (options = {}) -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Merge the options.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@settings</span> = _(options).defaults
      controllerPath: <span class="string">'controllers/'</span>
      controllerSuffix: <span class="string">'_controller'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Listen to global events.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@subscribeEvent</span> <span class="string">'matchRoute'</span>, <span class="property">@matchRouteHandler</span></pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Controller management.</p>
<h2>Starting and disposing controllers.</h2>

            </div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Handler for the global matchRoute event.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  matchRouteHandler: (route, params, options) -&gt;
    <span class="property">@startupController</span> route.controller, route.action, params, options</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>The standard flow is:</p>
<ol>
<li>Test if it’s a new controller/action with new params</li>
<li>Hide the previous view</li>
<li>Dispose the previous controller</li>
<li>Instantiate the new controller, call the controller action</li>
<li>Show the new view</li>
</ol>

            </div>
            
            <div class="content"><div class='highlight'><pre>  startupController: (controllerName, action = <span class="string">'index'</span>, params,
      options) -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Clone params and options so the original objects remain untouched.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    params = <span class="keyword">if</span> params <span class="keyword">then</span> _.clone(params) <span class="keyword">else</span> {}
    options = <span class="keyword">if</span> options <span class="keyword">then</span> _.clone(options) <span class="keyword">else</span> {}</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Whether to update the URL after controller startup.
Default to true unless explicitly set to false.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> options.changeURL <span class="keyword">isnt</span> <span class="literal">false</span>
      options.changeURL = <span class="literal">true</span></pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Whether to force the controller startup even
if current and new controllers and params match
Default to false unless explicitly set to true.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> options.forceStartup <span class="keyword">isnt</span> <span class="literal">true</span>
      options.forceStartup = <span class="literal">false</span></pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Stop if the desired controller/action is already active
with the same params.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">return</span> <span class="keyword">if</span> <span class="keyword">not</span> options.forceStartup <span class="keyword">and</span>
      <span class="property">@currentControllerName</span> <span class="keyword">is</span> controllerName <span class="keyword">and</span>
      <span class="property">@currentAction</span> <span class="keyword">is</span> action <span class="keyword">and</span></pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Deep parameters check is not nice but the simplest way for now.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      (<span class="keyword">not</span> <span class="property">@currentParams</span> <span class="keyword">or</span> _(params).isEqual(<span class="property">@currentParams</span>))</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Fetch the new controller, then go on.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@loadController</span> controllerName, (ControllerConstructor) =&gt;
      <span class="property">@controllerLoaded</span> controllerName, action, params, options,
        ControllerConstructor</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Load the constructor for a given controller name.
The default implementation uses require() from a AMD module loader
like RequireJS to fetch the constructor.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  loadController: (controllerName, handler) -&gt;
    fileName = utils.underscorize(controllerName) +
      <span class="property">@settings</span>.controllerSuffix
    moduleName = <span class="property">@settings</span>.controllerPath + fileName
    <span class="keyword">if</span> define?.amd
      require [moduleName], handler
    <span class="keyword">else</span>
      handler require moduleName</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Handler for the controller lazy-loading.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  controllerLoaded: (controllerName, action, params, options,
                     ControllerConstructor) -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Initialize the new controller.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    controller = <span class="keyword">new</span> ControllerConstructor params, options</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Execute before actions if necessary.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    methodName = <span class="keyword">if</span> controller.beforeAction
      <span class="string">'executeBeforeActions'</span>
    <span class="keyword">else</span>
      <span class="string">'executeAction'</span>
    <span class="keyword">this</span>[methodName](controller, controllerName, action, params, options)

  executeAction: (controller, controllerName, action, params, options) -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Shortcuts for the previous controller.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    currentControllerName   = <span class="property">@currentControllerName</span> <span class="keyword">or</span> <span class="literal">null</span>
    currentController       = <span class="property">@currentController</span>     <span class="keyword">or</span> <span class="literal">null</span>

    <span class="property">@previousControllerName</span> = currentControllerName</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Dispose the previous controller.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> currentController</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Notify the rest of the world beforehand.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="property">@publishEvent</span> <span class="string">'beforeControllerDispose'</span>, currentController</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Passing the params and the new controller name.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      currentController.dispose params, controllerName</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Add the previous controller name to the routing options.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    options.previousControllerName = currentControllerName</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Call the controller action with params and options.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    controller[action] params, options</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Stop if the action triggered a redirect.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">return</span> <span class="keyword">if</span> controller.redirected</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>Save the new controller.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@currentControllerName</span> = controllerName
    <span class="property">@currentController</span> = controller
    <span class="property">@currentAction</span> = action
    <span class="property">@currentParams</span> = params</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>Adjust the URL.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@adjustURL</span> params, options</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>We&#39;re done! Spread the word!</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@publishEvent</span> <span class="string">'startupController'</span>,
      previousControllerName: <span class="property">@previousControllerName</span>
      controller: <span class="property">@currentController</span>
      controllerName: <span class="property">@currentControllerName</span>
      params: <span class="property">@currentParams</span>
      options: options</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>Before actions with chained execution.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  executeBeforeActions: (controller, controllerName, action, params,
    options) -&gt;
    beforeActions = []
    args = arguments</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>Before actions can be extended by subclasses, so we need to check the
whole prototype chain for matching before actions. Before actions in
parent classes are executed before actions in child classes.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">for</span> acts <span class="keyword">in</span> utils.getAllPropertyVersions controller, <span class="string">'beforeAction'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>Iterate over the before actions in search for a matching
name with the arguments’ action name.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">for</span> name, beforeAction <span class="keyword">of</span> acts</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>Do not add this object more than once.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">if</span> name <span class="keyword">is</span> action <span class="keyword">or</span> RegExp(<span class="string">"^<span class="subst">#{name}</span>$"</span>).test(action)
          <span class="keyword">if</span> <span class="keyword">typeof</span> beforeAction <span class="keyword">is</span> <span class="string">'string'</span>
            beforeAction = controller[beforeAction]
          <span class="keyword">if</span> <span class="keyword">typeof</span> beforeAction <span class="keyword">isnt</span> <span class="string">'function'</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> Error <span class="string">'Controller#executeBeforeActions: '</span> +
              <span class="string">"<span class="subst">#{beforeAction}</span> is not a valid beforeAction method for <span class="subst">#{name}</span>."</span></pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Save the before action.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          beforeActions.push beforeAction</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>Save returned value and also immediately return in case the value is false.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="function"><span class="title">next</span></span> = (method, previous = <span class="literal">null</span>) =&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>Stop if the action triggered a redirect.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">return</span> <span class="keyword">if</span> controller.redirected</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>End of chain, finally start the action.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">unless</span> method
        <span class="property">@executeAction</span> args...
        <span class="keyword">return</span>

      previous = method.call controller, params, options, previous</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>Detect a CommonJS promise in order to use pipelining below,
otherwise execute next method directly.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">if</span> previous <span class="keyword">and</span> <span class="keyword">typeof</span> previous.<span class="keyword">then</span> <span class="keyword">is</span> <span class="string">'function'</span>
        previous.<span class="keyword">then</span> (data) =&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>Execute as long as the currentController is
the callee for this promise.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>          <span class="keyword">if</span> <span class="keyword">not</span> <span class="property">@currentController</span> <span class="keyword">or</span> controller <span class="keyword">is</span> <span class="property">@currentController</span>
            next beforeActions.shift(), data
      <span class="keyword">else</span>
        next beforeActions.shift(), previous</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>Start beforeAction execution chain.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    next beforeActions.shift()</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>Change the URL to the new controller using the router.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  adjustURL: (params, options) -&gt;
    <span class="keyword">return</span> <span class="keyword">unless</span> options.path?

    url = options.path +
      <span class="keyword">if</span> options.queryString <span class="keyword">then</span> <span class="string">"?<span class="subst">#{options.queryString}</span>"</span> <span class="keyword">else</span> <span class="string">""</span></pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p>Tell the router to actually change the current URL.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@publishEvent</span> <span class="string">'!router:changeURL'</span>, url, options <span class="keyword">if</span> options.changeURL</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p>Save the URL.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@url</span> = url</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <h2>Disposal</h2>

            </div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>  disposed: <span class="literal">false</span>

  dispose: -&gt;
    <span class="keyword">return</span> <span class="keyword">if</span> <span class="property">@disposed</span>

    <span class="property">@unsubscribeAllEvents</span>()

    <span class="property">@disposed</span> = <span class="literal">true</span></pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>You’re frozen when your heart’s not open.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    Object.freeze? <span class="keyword">this</span></pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
